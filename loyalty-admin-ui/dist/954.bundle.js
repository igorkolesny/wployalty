"use strict";(self.webpackChunkreact_wordpress=self.webpackChunkreact_wordpress||[]).push([[954],{2954:(e,t,a)=>{a.r(t),a.d(t,{default:()=>y});var l=a(5861),n=a(885),r=a(4687),c=a.n(r),i=a(7294),s=a(3972),o=a(4942),m=a(874),d=a(1167),u=a.n(d),f=(a(5761),a(1731));const x=function(e){var t=e.value,a=e.setValue,l=e.content,r=i.useState(!0),c=(0,n.Z)(r,2),s=c[0],o=c[1],m=i.useRef(),d=function(e){var t=wp.media({title:"Select media",multiple:!1,library:{type:"image"}}),a=m.current.getEditor();return t.on("select",(function(){t.state().get("selection").each((function(e){var t=e.attributes.url;a.insertEmbed(a.getSelection().index,"image",t)}))})),t.open(),!1},x=i.useMemo((function(){return{toolbar:{container:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike"],[{align:""},{align:"center"},{align:"right"},{align:"justify"}],["image","link"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{color:["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"]}]],handlers:{image:d}}}}),[]);return i.useEffect((function(){a(l.content),o(!1)}),[]),s?i.createElement(f.Z,null):i.createElement(u(),{theme:"snow",ref:m,value:t,modules:x,onChange:a})};var p=a(6550);const v=function(e){var t=e.label,a=e.value;return i.createElement("div",{className:"w-full flex flex-col  p-1.5  gap-y-1"},i.createElement("p",{className:"  text-dark   2xl:text-md text-sm font-medium"},a),i.createElement("p",{className:" text-light   text-xs font-normal"},t))};var g=a(7294);const b=function(e){var t=e.icon,a=e.fontSize,l=void 0===a?"text-sm 2xl:text-md":a,n=e.fontWeight,r=void 0===n?"font-medium":n,c=e.color,i=void 0===c?"text-primary":c,s=e.click,o=e.width,m=e.show,d=void 0===m?"":m;return g.createElement("i",{onClick:s,className:"wlr wlrf-".concat(t," cursor-pointer ").concat(i," ").concat(l," ").concat(d," ").concat(o," ").concat(r,"\n    ")})},h=function(e){var t,a=e.State,l=e.show,r=e.emailDetails,c=e.item,d=e.active,u=e.value,f=e.handleUpdate,g=e.SetDisableSave,h=i.useContext(s.Gr),w=i.useState(!0),y=(0,n.Z)(w,2),E=y[0],_=y[1],k=((0,i.useContext)(s.jZ),(0,p.UO)().type);return i.useEffect((function(){"expire_point_email"===k&&a.data.email_content.hasOwnProperty("wlrpointexpireemail")&&(g(!0),l.set(!0),d.set(k),r.set(a.data.email_content.wlrpointexpireemail))}),[]),i.createElement("div",{className:"group relative  flex items-center justify-between w-full px-6 py-4 border border-light_border ".concat(d.value===c.title?"bg-light_border":"bg-white"," hover:shadow-card hover:border-white rounded-lg ")},i.createElement("div",{className:"flex flex-col justify-start items-start space-y-3 w-full "},i.createElement("div",{className:"flex items-center justify-start space-x-5"},i.createElement("h4",{className:"text-dark font-semibold "},c.title),i.createElement("p",{className:"py-1 px-3 font  rounded text-xs font-medium ".concat(c.enabled?"bg-active_light_green text-active_green":"status-disable")},c.enabled?h.common.active:h.common.disabled)),i.createElement("div",{className:"flex items-center "},i.createElement("p",{className:"font-medium font-md text-dark"},h.settings.email.subject),i.createElement("span",{className:"text-xs  font-normal text-light ml-1"},c.subject)),d.value===c.type&&i.createElement("div",{className:"flex flex-col gap-x-2 w-full h-full gap-y-2  mt-3 xl:mt-4 2xl:mt-5"},i.createElement(x,{value:u.value,setValue:u.set,content:c}),i.createElement("div",{className:"flex items-center justify-end gap-x-2"},i.createElement(m.Z,{click:function(){f(c.type),g(!1)}},h.common.update_email_template),i.createElement(m.Z,(t={id:"email_manage",padding:"px-5 py-3",bgColor:"bg-white",outline:!0,outlineStyle:"border-redd",others:"hover:bg-redd hover:text-white",textStyle:"text-redd text-sm font-medium"},(0,o.Z)(t,"others","h-8"),(0,o.Z)(t,"click",(function(){l.set(!1),d.set(""),g(!1)})),t),h.common.close)))),(""===d.value||d.value===c.type&&!l.value)&&i.createElement("div",{className:"flex items-center gap-x-2 "},i.createElement(m.Z,{id:"email_manage",padding:"px-5 py-3",bgColor:"bg-white",outline:!0,outlineStyle:"border-primary",others:"group-hover:bg-primary group-hover:text-white",textStyle:"text-primary text-sm font-medium",click:function(e){e.preventDefault(),window.open(c.manage_url,"_blank")}},h.settings.email.manage),i.createElement(m.Z,{id:"email_manage",padding:"px-5 py-3",bgColor:"bg-white",outline:!0,outlineStyle:"border-base-btn_green",textStyle:"text-base-btn_green text-sm font-medium",click:function(e){e.preventDefault(),g(!0),r.set(c),l.set(!0),d.set(c.type)}},h.common.edit)),d.value===c.type&&c.short_codes&&i.createElement("div",{style:{top:0,right:"-270px",width:"260px"},className:"flex flex-col   absolute ".concat(E?"h-62.5":"h-10"," transition-all  ease-out overflow-hidden  bg-grey_extra_light border border-card_border rounded-md ")},i.createElement("div",{className:"w-full flex items-center cursor-pointer justify-between w-full p-1.5",onClick:function(){return _(!E)}},i.createElement("div",{className:"flex items-center p-1 gap-x-2"},i.createElement(b,{icon:"info_circle",color:"text-dark"}),i.createElement("p",{className:"text-dark font-medium 2xl:text-md text-sm "},h.common.shortcodes_text)),i.createElement(b,{icon:"arrow-down",color:"text-dark"})),i.createElement("span",{className:"border-b border-light_border w-full"}),i.createElement("div",{className:"flex flex-col w-full h-full overflow-y-auto "},Object.keys(null==c?void 0:c.short_codes).map((function(e,t){return i.createElement(v,{key:t,value:e,label:null==c?void 0:c.short_codes[e]})})))))};var w=a(6732);const y=function(e){var t,a=e.getSettings,r=e.SetDisableSave,o=(0,i.useContext)(s.Gr),m=(0,i.useContext)(s.ko).appState,d=i.useContext(s.QN).State,u=i.useState({}),f=(0,n.Z)(u,2),x=f[0],p=f[1],v=i.useState(!1),g=(0,n.Z)(v,2),b=g[0],y=g[1],E=i.useState(""),_=(0,n.Z)(E,2),k=_[0],N=_[1],S=i.useState(""),Z=(0,n.Z)(S,2),C=Z[0],j=Z[1],D=function(){var e=(0,l.Z)(c().mark((function e(t){var l,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l={wlr_nonce:m.local.settings.wlr_setting_nonce,action:"wlr_save_email_template",email_type:t,template_body:C},e.next=3,(0,w.j0)(l);case 3:!0===(n=e.sent).data.success&&null!==n.data.data?(alertify.success(n.data.data.message),a()):!1===n.data.success&&null!==n.data.data&&alertify.error(n.data.data.message);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return i.createElement("div",{className:"flex flex-col items-start space-y-4 w-full mt-3 xl:mt-4 2xl:mt-5"},i.createElement("div",{className:"flex flex-col space-y-1"},i.createElement("h4",{className:"text-dark font-semibold text-lg tracking-wide "},o.settings.email.name),i.createElement("div",{className:"flex flex-col items-start w-full space-y-2"},i.createElement("small",{className:" tracking-wide 2xl:tracking-wider leading-3 2xl:leading-4 text-10px  2xl:text-12px text antialiased font-normal italic text-extra_light ",dangerouslySetInnerHTML:{__html:o.settings.email.description}}))),i.createElement("div",{className:"flex  w-full  gap-x-2"},i.createElement("div",{className:"flex flex-col items-start space-y-4 w-full mt-3 xl:mt-4 2xl:mt-5"},Object.values(null===(t=d.data)||void 0===t?void 0:t.email_content).map((function(e,t){return i.createElement(h,{State:d,SetDisableSave:r,handleUpdate:D,value:{value:C,set:j},active:{value:k,set:N},item:e,key:t,show:{value:b,set:y},emailDetails:{value:x,set:p}})})))))}}}]);