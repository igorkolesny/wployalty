"use strict";(self.webpackChunkreact_wordpress=self.webpackChunkreact_wordpress||[]).push([[586],{5586:(e,t,a)=>{a.r(t),a.d(t,{default:()=>m});var n=a(4942),c=a(885),r=a(7294),s=a(3972),l=a(6732),i=a(4753),p=a(2382),u=a(3007);function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){(0,n.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d=r.lazy((function(){return a.e(910).then(a.bind(a,5910))}));const m=function(){var e=r.useContext(s.Gr),t=r.useState(!0),a=(0,c.Z)(t,2),n=a[0],o=a[1],m=r.useContext(s.ko).appState,v=r.useState(""),h=(0,c.Z)(v,2),g=(h[0],h[1]),y=r.useState({apps:[],search:""}),w=(0,c.Z)(y,2),b=w[0],O=w[1],j=["1",1,"true",!0],_=function(e){var t={wlr_nonce:m.local.common.wlr_apps_nonce,action:"wlr_get_apps",search:(null==e?void 0:e.search)||b.search};o(!0),(0,l.j0)(t).then((function(e){!0===e.data.success&&null!==e.data.data?O(f(f({},b),{},{apps:e.data.data.items})):!1===e.data.success&&null!==e.data.data&&alertify.error(e.data.data.message),o(!1)}))};r.useEffect((function(){_()}),[]);var E=function(e,t){var a={wlr_nonce:m.local.common.wlr_apps_nonce,plugin:e};a.action=j.includes(t)?"wlr_deactivate_plugin":"wlr_activate_plugin",o(!0),(0,l.j0)(a).then((function(t){!0===t.data.success&&null!==t.data.data?(Object.keys(b.apps).map((function(t){var a=b.apps[t];a.plugin===e&&(a.is_active=j.includes(a.is_active)?0:1),b.apps[t]=a})),alertify.success(t.data.data.message)):!1===t.data.success&&null!==t.data.data&&alertify.error(t.data.data.message),_(),o(!1)}))},k=function(){g(b.search);var e={search:b.search};_(e)};return r.createElement("div",{className:"w-full h-full rounded-b-md flex flex-col px-8 py-5 bg-white  space-y-5"},r.createElement("div",{className:"w-full flex items-center justify-between"},r.createElement(i.Z,{title:e.apps.name}),r.createElement("div",{className:"flex items-center space-x-3"},r.createElement(u.Z,{placeHolder:e.apps.search_apps,value:b.value,onChange:function(e){O(f(f({},b),{},{search:e.target.value}))},onKeyDown:function(e){13===e.keyCode&&(e.preventDefault(),k())},click:function(e){e.preventDefault(),k()}}))),r.createElement("div",{className:"flex  justify-start  space-y-2  w-full gap-4 "},n?r.createElement(p.Z,{height:"h-113.5",dataHeight:"h-59.8",listData:1}):Object.keys(b.apps).length>0?r.createElement("div",{className:" grid grid-cols-3  gap-3 w-full"},Object.keys(b.apps).map((function(e,t){var a=b.apps[e];return r.createElement(r.Suspense,{key:t,fallback:r.createElement("div",null)},r.createElement(d,{key:t,app:a,index:t,actived_app:j,toggleActivatePlugin:E}))}))):r.createElement("div",{className:"flex items-center justify-center p-3 w-full text-sm h-149 "},"No apps found in search")))}}}]);